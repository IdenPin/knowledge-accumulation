### vue 中 v-for 和 v-if 那个优先级更高？同时出现，怎样优化才能得到更好的性能？
> 显然 v-for 优先与 v-if 被解析（通过源码可以看出）,如果同时出现，每次渲染都会先执行循环再判断条件，无论如何循环都不可避免，浪费性能。解决办法可以在外层嵌套 template，在这一层进行 v-if 判断，然后内部进行 v-for 循环

### vue 组件 data 为什么必须是一个函数而 vue 的根实例则没有此限制
> vue 组件可能存在多实例，如果使用对象形式定义 data，则会导致它们共用一个 data 对象，不能保证各个实例组件数据独立性。而根实例只有一个，new Vue() 是单例责不存在该限制。 


### 你知道 vue 中 key 的作用和工作原理吗？说说你对它的理解
> 1、key 的作用主要是为了高效的更新虚拟 Dom，其原理是 vue 在 patch 过程中通过 key 可以精确判断两个节点是否是同一个，从而避免更新不同元素，使得整个 patch 的过程更加高效，减少 Dom 操作量，提高性能。2、另外，若不设置 key 还可能在列表更新时引发一些隐藏的bug。3、vue 中在使用相同标签元素过渡切换时，也会使用到 key 属性，其目的也是为了让 vue 可以区分它们，否则 vue 只会替换其内部属性而不会触发过渡效果


### 你怎么理解 vue 中的 diff 算法 （深度优先，同级比较）
> 1、diff 算法是虚拟 Dom 技术的必然产物：通过新旧虚拟 Dom 做比对（即diff）,将变化的地方更新在真是 Dom 上；另外，也需要 diff 高效的执行对比过程，从而降低时间复杂无为O(n)。2、vue 2.x 中为了降低 Watcher 粒度，每个组件只有一个 Watcher 与之对应，只有引入 diff 才能精确查找发生变化的地方。3、vue 中的 diff 执行的时刻是组件实例执行更新函数时，它会对比上一次渲染结果 oldVnode 和新渲染结果 newVnode, 此过程称为 patch。4 、diff 过程整体遵循深度优先，同层比较的策略；两个节点之间比较会根据它们拥有子节点或者文本节点做不同操作；比较两组子节点是算法的重点，首先假设头尾节点可能相同做4次比对尝试，如果没有找到相同节点才按照通用方式便利查找，查找结束再按情况处理剩下的节点；借助 key 通常可以非常精确找到相同节点，因此整个 patch 过程非常高效。 


### 谈谈对 vue 组件化的理解